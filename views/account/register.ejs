<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>

<body>
    <%- include('../partials/header') %>
    <main>
        <section class="registration-container">
            <h1><%= title %></h1>
            <%- messages() %>

            <!-- Registration Form -->
            <form action="/account/register" method="post" class="registration-form">
                <!-- First Name -->
                <div class="form-group">
                    <label for="first_name">First Name:</label>
                    <input 
                        type="text" 
                        id="first_name" 
                        name="first_name" 
                        required
                        <% if (locals.inputData && inputData.first_name) { %> 
                            value="<%= inputData.first_name %>" 
                        <% } %>
                    >
                </div>

                <!-- Last Name -->
                <div class="form-group">
                    <label for="last_name">Last Name:</label>
                    <input 
                        type="text" 
                        id="last_name" 
                        name="last_name" 
                        required
                        <% if (locals.inputData && inputData.last_name) { %> 
                            value="<%= inputData.last_name %>" 
                        <% } %>
                    >
                </div>

                <!-- Email -->
                <div class="form-group">
                    <label for="email">Email Address:</label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        required
                        <% if (locals.inputData && inputData.email) { %> 
                            value="<%= inputData.email %>" 
                        <% } %>
                    >
                </div>

                <!-- Password -->
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        required
                        pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{12,}$"
                        title="Must be at least 12 characters, with 1 capital letter, 1 number, and 1 special character."
                    >
                    <button type="button" class="toggle-password" onclick="togglePassword()">Show Password</button>
                    <div class="password-requirements">
                        <p><strong>Password must:</strong></p>
                        <ul>
                            <li>Be at least 12 characters long</li>
                            <li>Contain 1 capital letter (A-Z)</li>
                            <li>Contain 1 number (0-9)</li>
                            <li>Contain 1 special character (!@#$%^&*)</li>
                        </ul>
                    </div>
                </div>

                <button type="submit" class="btn-submit">Register</button>
            </form>
        </section>
    </main>
    <%- include('../partials/footer') %>
    <script>
        function togglePassword() {
            const passwordInput = document.getElementById("password");
            const toggleBtn = document.querySelector(".toggle-password");
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                toggleBtn.textContent = "Hide Password";
            } else {
                passwordInput.type = "password";
                toggleBtn.textContent = "Show Password";
            }
        }
    </script>
</body>
</html>